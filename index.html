<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Planificador semanal de inglés</title>
  <style>
    :root{
      --bg:#0b1220;
      --card:#121a2b;
      --muted:#6b7a90;
      --text:#eaf1ff;
      --accent:#4cc9f0;
      --accent2:#22c55e;
      --warning:#f59e0b;
      --border:#1e293b;
      --shadow:0 10px 30px rgba(0,0,0,.35);
      --radius:16px;
    }
    body{margin:0; font-family:system-ui,Segoe UI,Roboto,Inter,Ubuntu,Arial; background:var(--bg); color:var(--text)}
    header{max-width:1200px; margin:24px auto 0; padding:0 16px;}
    h1{margin:8px 0 6px}
    .sub{color:var(--muted)}
    .toolbar{display:flex; gap:10px; flex-wrap:wrap; margin:12px 0 22px}
    button{background:#1f2b45; color:var(--text); border:1px solid var(--border); padding:8px 12px; border-radius:8px; cursor:pointer}
    .grid{max-width:1200px; margin:0 auto; padding:0 16px 60px; display:grid; gap:16px; grid-template-columns:repeat(auto-fit,minmax(250px,1fr))}
    .day{background:var(--card); border:1px solid var(--border); border-radius:var(--radius); padding:12px; display:flex; flex-direction:column; gap:10px}
    .today{outline:2px solid var(--accent)}
    .tasks{display:flex; flex-direction:column; gap:10px}
    .task{display:flex; gap:10px; border:1px solid var(--border); border-radius:8px; padding:8px; background:rgba(255,255,255,0.02)}
    .task a{color:#a5d8ff}
    .badge{font-size:.8rem; padding:2px 6px; border:1px solid var(--border); border-radius:6px; color:var(--muted)}
    .quizbar{display:flex;align-items:center;justify-content:space-between;gap:8px}
    .quiz-btn{padding:6px 10px}
    .reading{border:1px solid var(--border);border-radius:8px;padding:8px;background:rgba(255,255,255,.02)}
    .reading h4{margin:0 0 6px 0}
    .reading p{margin:0;color:var(--muted)}
    .modal{position:fixed;inset:0;display:none;place-items:center;background:rgba(0,0,0,.6)}
    .modal.open{display:grid}
    .modal-card{width:min(720px,92vw);background:var(--card);border:1px solid var(--border);border-radius:12px;padding:14px}
    .modal-head{display:flex;align-items:center;justify-content:space-between;margin-bottom:8px}
    .quiz-q{background:rgba(255,255,255,.04);border:1px solid var(--border);border-radius:8px;min-height:90px;display:flex;align-items:center;justify-content:center;text-align:center;padding:12px}
    .quiz-actions{display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-top:10px}
  </style>
</head>
<body>
  <header>
    <h1>Planificador semanal de inglés — IA & Self‑Growth</h1>
    <p class="sub">Marca lo que vas completando. Tu progreso se guarda automáticamente en este navegador.</p>
    <div class="toolbar">
      <button id="resetBtn">🔄 Reiniciar semana</button>
      <button id="completeTodayBtn">✅ Completar HOY</button>
    </div>
  </header>
  <section class="overall">
    <progress id="overallProgress" max="100" value="0"></progress>
    <span id="overallPct">0%</span>
  </section>
  <main class="grid" id="grid"></main>

  <!-- Quiz Modal -->
  <div class="modal" id="quizModal" aria-hidden="true">
    <div class="modal-card" role="dialog" aria-modal="true" aria-labelledby="quizTitle">
      <div class="modal-head">
        <h3 id="quizTitle">Quiz — Phrasals & False Friends</h3>
        <button id="closeQuiz">✖</button>
      </div>
      <div class="quiz-q" id="quizQuestion">Question…</div>
      <div class="quiz-actions">
        <button id="optA">A</button>
        <button id="optB">B</button>
      </div>
      <div id="quizFeedback" style="margin-top:8px"></div>
    </div>
  </div>

  <template id="dayTemplate">
    <section class="day">
      <header>
        <h3></h3>
        <span class="badge"><span class="done">0</span>/<span class="total">0</span></span>
      </header>
      <div class="quizbar">
        <button class="quiz-btn" data-open-quiz>🧠 Quiz</button>
        <span class="badge" data-quiz-info>0/0</span>
      </div>
      <div class="reading">
        <h4>📖 Quick reading</h4>
        <p class="reading-summary"></p>
        <a class="reading-link" href="#" target="_blank">Open</a>
      </div>
      <div class="tasks"></div>
    </section>
  </template>

  <template id="taskTemplate">
    <div class="task">
      <input type="checkbox" />
      <div>
        <div><strong class="title"></strong> <span class="kind"></span></div>
        <a class="link" href="#" target="_blank">Abrir recurso</a>
      </div>
    </div>
  </template>

  <script>
    const PLAN={
      Monday:[
        {title:"The Office (US) S01E01",kind:"Serie",url:"https://www.youtube.com/results?search_query=The+Office+US+S01E01+full+episode+english"},
        {title:"Rich Dad Poor Dad — Summary",kind:"Podcast",url:"https://www.youtube.com/watch?v=c9g6f2VzCzY"},
        {title:"Two Minute Papers (AI)",kind:"YouTube",url:"https://www.youtube.com/@TwoMinutePapers"},
        {title:"Episode summary (5 sentences)",kind:"Speaking",url:"https://chat.openai.com"}
      ],
      Tuesday:[
        {title:"The Crown S01E01",kind:"Serie",url:"https://www.netflix.com/title/80025678"},
        {title:"7 Habits — Habit 1",kind:"Podcast",url:"https://www.youtube.com/watch?v=GxmxcfjBT8g"},
        {title:"ColdFusion (Tech + AI)",kind:"YouTube",url:"https://www.youtube.com/@ColdFusion"},
        {title:"Formal role‑play (Queen)",kind:"Speaking",url:"https://chat.openai.com"}
      ],
      Wednesday:[
        {title:"Modern Family S01E01",kind:"Serie",url:"https://www.youtube.com/results?search_query=Modern+Family+S01E01+full+episode+english"},
        {title:"Atomic Habits — Summary",kind:"Podcast",url:"https://www.youtube.com/watch?v=4rjMUo5W6C0"},
        {title:"AI Explained",kind:"YouTube",url:"https://www.youtube.com/@ai-explained-"},
        {title:"3 atomic habits (EN)",kind:"Speaking",url:"https://chat.openai.com"}
      ],
      Thursday:[
        {title:"Brooklyn Nine Nine S01E01",kind:"Serie",url:"https://www.youtube.com/results?search_query=Brooklyn+Nine+Nine+S01E01+full+episode+english"},
        {title:"Thinking, Fast and Slow — Key ideas",kind:"Podcast",url:"https://www.youtube.com/watch?v=R5EDG14UxzU"},
        {title:"Data School (Data Science)",kind:"YouTube",url:"https://www.youtube.com/@dataschool"},
        {title:"Police improv (EN)",kind:"Speaking",url:"https://chat.openai.com"}
      ],
      Friday:[
        {title:"The Office (US) S01E02",kind:"Serie",url:"https://www.youtube.com/results?search_query=The+Office+US+S01E02+full+episode+english"},
        {title:"Secrets of the Millionaire Mind — Summary",kind:"Podcast",url:"https://www.youtube.com/watch?v=he8yKs8GzUg"},
        {title:"AI Coffee Break with Letitia",kind:"YouTube",url:"https://www.youtube.com/@AiCoffeeBreak"},
        {title:"2‑min money mindset speech",kind:"Speaking",url:"https://chat.openai.com"}
      ],
      Saturday:[
        {title:"The Crown S01E02",kind:"Serie",url:"https://www.netflix.com/title/80025678"},
        {title:"Book summaries — playlist",kind:"Podcast",url:"https://www.youtube.com/playlist?list=PL0eyrZgxdwhx5Fh8IsC7vDUdK-ZgSnznE"},
        {title:"3Blue1Brown (Math/Data)",kind:"YouTube",url:"https://www.youtube.com/@3blue1brown"},
        {title:"UK vs US accent (3 diffs)",kind:"Speaking",url:"https://chat.openai.com"}
      ],
      Sunday:[
        {title:"Friends best scenes (no subs)",kind:"Serie",url:"https://www.youtube.com/results?search_query=Friends+best+scenes+english"},
        {title:"Replay podcast (no transcript)",kind:"Podcast",url:"https://www.youtube.com/results?search_query=AI+podcast+english"},
        {title:"AI news (free choice)",kind:"YouTube",url:"https://www.youtube.com/results?search_query=AI+news+2025"},
        {title:"Weekly 3‑min report (EN)",kind:"Speaking",url:"https://chat.openai.com"}
      ]
    };

    const READS={
      Monday:{title:"What is ChatGPT and How to Use It",url:"https://www.theverge.com/23519682/chatgpt-ai-chatbot-how-to-use",summary:"Popular Verge guide introducing ChatGPT and practical uses."},
      Tuesday:{title:"The Rise of AI Agents",url:"https://venturebeat.com/ai/the-rise-of-ai-agents/",summary:"VentureBeat article on autonomous AI agents and trends."},
      Wednesday:{title:"Google Gemini vs ChatGPT",url:"https://www.zdnet.com/article/google-gemini-vs-chatgpt/",summary:"ZDNet comparison between Gemini and ChatGPT."},
      Thursday:{title:"What is Make.com?",url:"https://zapier.com/blog/make-vs-zapier/",summary:"Zapier blog comparing Make.com and automation platforms."},
      Friday:{title:"n8n: Open Source Automation",url:"https://towardsdatascience.com/n8n-open-source-zapier-alternative-9d8e264b8a9d",summary:"Medium post introducing n8n for automation."},
      Saturday:{title:"8 Ways to Make Money with AI",url:"https://www.businessinsider.com/guides/tech/how-to-make-money-with-ai",summary:"Business Insider tips on monetizing AI."},
      Sunday:{title:"10 AI Side Hustles That Work",url:"https://www.forbes.com/sites/forbestechcouncil/2024/01/05/10-ai-side-hustles-that-work/",summary:"Forbes article listing AI-powered business ideas."}
    };

    const QUIZ={
      Monday:[{q:"PHRASAL — figure out",a:"to understand/solve",b:"to invent",correct:"a"}],
      Tuesday:[{q:"PHRASAL — look into",a:"to investigate",b:"to look inside physically",correct:"a"}],
      Wednesday:[{q:"PHRASAL — pick up",a:"to learn",b:"to pay",correct:"a"}],
      Thursday:[{q:"PHRASAL — roll out",a:"to launch",b:"to roll physically",correct:"a"}],
      Friday:[{q:"PHRASAL — wrap up",a:"to finish",b:"to wrap only",correct:"a"}],
      Saturday:[{q:"PHRASAL — look after",a:"to take care of",b:"to search after",correct:"a"}],
      Sunday:[{q:"PHRASAL — make up",a:"to invent/make peace",b:"to put on make‑up only",correct:"a"}]
    };

    const STORAGE_KEY="planner_state_v1";
    const load=()=>JSON.parse(localStorage.getItem(STORAGE_KEY)||"{}");
    const save=(s)=>localStorage.setItem(STORAGE_KEY,JSON.stringify(s));
    let state=load();

    const grid=document.getElementById('grid');
    const dayTpl=document.getElementById('dayTemplate');
    const taskTpl=document.getElementById('taskTemplate');

    function render(){
      grid.innerHTML=''; let total=0,done=0;
      Object.entries(PLAN).forEach(([day,tasks])=>{
        const node=dayTpl.content.firstElementChild.cloneNode(true);
        if(day===new Date().toLocaleDateString('en-US',{weekday:'long'})) node.classList.add('today');
        node.querySelector('h3').textContent=day;

        // Reading block
        const read=READS[day];
        node.querySelector('.reading-summary').textContent=read.summary;
        const rlink=node.querySelector('.reading-link');
        rlink.href=read.url; rlink.textContent=read.title;

        // Quiz
        const qInfo=node.querySelector('[data-quiz-info]');
        const qBtn=node.querySelector('[data-open-quiz]');
        qInfo.textContent=`0/${(QUIZ[day]||[]).length}`;
        qBtn.addEventListener('click',()=>openQuiz(day));

        const wrap=node.querySelector('.tasks');
        let dDone=0;
        tasks.forEach((t,i)=>{
          const tn=taskTpl.content.firstElementChild.cloneNode(true);
          tn.querySelector('.title').textContent=t.title;
          tn.querySelector('.kind').textContent=' · '+t.kind;
          tn.querySelector('.link').href=t.url;
          const cb=tn.querySelector('input');
          cb.checked=!!state[day]?.[i];
          if(cb.checked) dDone++;
          cb.addEventListener('change',()=>{state[day]=state[day]||{};state[day][i]=cb.checked; save(state);render();});
          wrap.appendChild(tn);
        });
        node.querySelector('.done').textContent=dDone;
        node.querySelector('.total').textContent=tasks.length;
        total+=tasks.length; done+=dDone;
        grid.appendChild(node);
      });
      const pct=Math.round((done/total)*100)||0;
      document.getElementById('overallProgress').value=pct;
      document.getElementById('overallPct').textContent=pct+'%';
    }

    function openQuiz(day){
      const list=QUIZ[day]||[]; if(list.length===0) return;
      let idx=0; let correct=0;
      function showQ(){
        const q=list[idx];
        document.getElementById('quizQuestion').textContent=q.q;
        const optA=document.getElementById('optA');
        const optB=document.getElementById('optB');
        optA.textContent=q.a; optB.textContent=q.b;
        optA.onclick=()=>choose('a'); optB.onclick=()=>choose('b');
      }
      function choose(ans){
        const q=list[idx];
        if(ans===q.correct){ correct++; document.getElementById('quizFeedback').textContent='✅ Correct'; }
        else{ document.getElementById('quizFeedback').textContent='❌ Wrong'; }
        idx++;
        if(idx<list.length){ setTimeout(showQ,600);} else {
          document.getElementById('quizFeedback').textContent=`Done! ${correct}/${list.length}`;
        }
      }
      document.getElementById('quizModal').classList.add('open');
      document.getElementById('closeQuiz').onclick=()=>document.getElementById('quizModal').classList.remove('open');
      showQ();
    }

    document.getElementById('resetBtn').addEventListener('click',()=>{state={};save(state);render();});
    document.getElementById('completeTodayBtn').addEventListener('click',()=>{
      const todayName=new Date().toLocaleDateString('en-US',{weekday:'long'});
      const d=PLAN[todayName]; state[todayName]=state[todayName]||{};
      d.forEach((_,i)=>state[todayName][i]=true);
      save(state);render();
    });

    render();
  </script>
</body>
</html>
